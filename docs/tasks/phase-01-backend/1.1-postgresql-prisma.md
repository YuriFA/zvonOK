# –ó–∞–¥–∞—á–∞ 1.1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL + Prisma

## –û–±–∑–æ—Ä

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ PostgreSQL –∫ NestJS –ø—Ä–æ–µ–∫—Ç—É —á–µ—Ä–µ–∑ Prisma ORM. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ–º–Ω–∞—Ç –∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

---

## üéØ –¶–µ–ª—å

- –†–∞–±–æ—Ç–∞—é—â–∞—è PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Prisma –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
- –ú–æ–¥–µ–ª—å User —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- Prisma Studio —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏

---

## üìö –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
1. **[Prisma Getting Started](https://www.prisma.io/docs/getting-started/setup-prisma/start-from-scratch/relational-databases-typescript-postgresql)**
   - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - Migrate, generate client

2. **[Prisma Schema Reference](https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference)**
   - –í—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
   - Relations, enums, defaults

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
- **[Prisma Migrate](https://www.prisma.io/docs/concepts/components/prisma-migrate)** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- **[Prisma Client](https://www.prisma.io/docs/reference/api-reference/prisma-client-reference)** ‚Äî API –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

**–í–∞—Ä–∏–∞–Ω—Ç A: Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `docker-compose.yml` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```yaml
services:
  postgres:
    image: postgres:16-alpine
    container_name: postgres-webrtc
    environment:
      POSTGRES_USER: webrtc
      POSTGRES_PASSWORD: webrtc
      POSTGRES_DB: webrtc_chat
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U webrtc"]
      interval: 5s
      timeout: 5s
      retries: 5

volumes:
  postgres_data:
```

**–ó–∞–ø—É—Å–∫:**
```bash
docker compose up -d
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
docker compose down    # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
docker compose down -v # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
docker compose logs postgres
docker compose logs -f postgres  # follow mode
```

---

**–í–∞—Ä–∏–∞–Ω—Ç B: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**
- macOS: `brew install postgresql@16`
- Ubuntu: `sudo apt install postgresql-16`
- Windows: –°–∫–∞—á–∞—Ç—å —Å [postgresql.org](https://www.postgresql.org/download/)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –° Docker Compose
docker compose exec postgres psql -U webrtc -d webrtc_chat

# –ò–ª–∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
psql -h localhost -U webrtc -d webrtc_chat
```

---

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prisma –≤ –ø—Ä–æ–µ–∫—Ç

```bash
# –í apps/server/
pnpm add @prisma/client
pnpm add -D prisma
```

**–ü–æ—á–µ–º—É `-D` –¥–ª—è prisma?**
- `prisma` –ø–∞–∫–µ—Ç –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–º–∏–≥—Ä–∞—Ü–∏–∏)
- `@prisma/client` –Ω—É–∂–µ–Ω –≤ runtime (–∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î)

---

### –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma

```bash
# –í apps/server/
pnpm prisma init
```

**–ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è:**
```
apps/server/
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma    # –°—Ö–µ–º–∞ –ë–î
‚îî‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è)
```

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DATABASE_URL

**–í `apps/server/.env.development`:**
```env
DATABASE_URL="postgresql://webrtc:webrtc@localhost:5432/webrtc_chat?schema=public"
```

**–§–æ—Ä–º–∞—Ç URL:**
```
postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
```

**–ù—é–∞–Ω—Å—ã:**
- –ò—Å–ø–æ–ª—å–∑—É–π `?schema=public` –¥–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è —Å—Ö–µ–º—ã
- –í Docker –∏–º—è —Ö–æ—Å—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å `localhost` –∏–ª–∏ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

### –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –º–æ–¥–µ–ª–∏

**–í `apps/server/prisma/schema.prisma`:**
```prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  username  String
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
```

**–†–∞–∑–±–æ—Ä —Ç–∏–ø–æ–≤:**
- `@id` ‚Äî –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- `@default(cuid())` ‚Äî –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID
- `@unique` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ (—Å–æ–∑–¥–∞—ë—Ç –∏–Ω–¥–µ–∫—Å)
- `@default(now())` ‚Äî —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- `@updatedAt` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏

---

### –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –í apps/server/
pnpm prisma migrate dev --name init
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –°–æ–∑–¥–∞—ë—Ç—Å—è SQL –º–∏–≥—Ä–∞—Ü–∏—è –≤ `prisma/migrations/`
2. –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ë–î
3. `Prisma Client` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ú® The migration 20240124_init created successfully.
```

**–§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ (`prisma/migrations/.../migration.sql`):**
```sql
-- CreateTable
CREATE TABLE "User" (
    "id" TEXT NOT NULL,
    "email" TEXT NOT NULL,
    "username" TEXT NOT NULL,
    "password" TEXT NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP(3) NOT NULL,

    CONSTRAINT "User_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "User_email_key" ON "User"("email");
```

---

### –®–∞–≥ 7: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client

```bash
pnpm prisma generate
```

**–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
- –û–±—ã—á–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å `migrate dev`

---

### –®–∞–≥ 8: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Prisma –∫ NestJS

**–°–æ–∑–¥–∞–π `apps/server/src/prisma/prisma.service.ts`:**
```typescript
import { Injectable, OnModuleInit, OnModuleDestroy } from '@nestjs/common';
import { PrismaClient } from '@prisma/client';

@Injectable()
export class PrismaService extends PrismaClient implements OnModuleInit, OnModuleDestroy {
  async onModuleInit() {
    await this.$connect();
  }

  async onModuleDestroy() {
    await this.$disconnect();
  }
}
```

**–ü–æ—á–µ–º—É OnModuleInit/OnModuleDestroy:**
- `$connect()` ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- `$disconnect()` ‚Äî –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- –í–∞–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

---

**–°–æ–∑–¥–∞–π `apps/server/src/prisma/prisma.module.ts`:**
```typescript
import { Global, Module } from '@nestjs/common';
import { PrismaService } from './prisma.service';

@Global() // –î–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–Ω—ã–º –≤–µ–∑–¥–µ –±–µ–∑ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª—è
@Module({
  providers: [PrismaService],
  exports: [PrismaService],
})
export class PrismaModule {}
```

**–ü–æ—á–µ–º—É @Global():**
- PrismaService –Ω—É–∂–µ–Ω –≤–æ –º–Ω–æ–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
- @Global() –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –±–µ–∑ –∏–º–ø–æ—Ä—Ç–∞ PrismaModule –≤–µ–∑–¥–µ

---

**–î–æ–±–∞–≤—å –≤ `apps/server/src/app.module.ts`:**
```typescript
import { PrismaModule } from './prisma/prisma.module';

@Module({
  imports: [
    // ... –¥—Ä—É–≥–∏–µ –∏–º–ø–æ—Ä—Ç—ã
    PrismaModule,
  ],
  // ...
})
export class AppModule {}
```

---

### –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Prisma Studio

```bash
pnpm prisma studio
```

**–û—Ç–∫—Ä–æ–µ—Ç—Å—è:** http://localhost:5555

**–ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –û—Ç–∫—Ä–æ–π Studio
2. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ç–∞–±–ª–∏—Ü—É `User`
3. –î–æ–±–∞–≤—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üé® Prisma Client API

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
```typescript
await prisma.user.create({
  data: {
    email: 'test@example.com',
    username: 'testuser',
    password: 'hashed_password',
  },
});
```

### –ß—Ç–µ–Ω–∏–µ
```typescript
// –ù–∞–π—Ç–∏ –ø–æ ID
const user = await prisma.user.findUnique({
  where: { id: 'clx...' },
});

// –ù–∞–π—Ç–∏ –ø–æ email
const user = await prisma.user.findUnique({
  where: { email: 'test@example.com' },
});

// –ù–∞–π—Ç–∏ –º–Ω–æ–≥–∏—Ö
const users = await prisma.user.findMany({
  where: { username: { contains: 'test' } },
  take: 10,
});
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```typescript
await prisma.user.update({
  where: { id: 'clx...' },
  data: { username: 'newname' },
});
```

### –£–¥–∞–ª–µ–Ω–∏–µ
```typescript
await prisma.user.delete({
  where: { id: 'clx...' },
});
```

---

## ‚ö†Ô∏è –ù—é–∞–Ω—Å—ã –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π DATABASE_URL

**–ü—Ä–æ–±–ª–µ–º–∞:** `Error: P1001: Can't reach database server`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
docker compose ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
docker compose up -d

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker compose logs postgres
```

- –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: —Ö–æ—Å—Ç, –ø–æ—Ä—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–∞—Ä–æ–ª—å
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –ø–æ—Ä—Ç 5432 –Ω–µ –∑–∞–Ω—è—Ç: `lsof -i :5432`

---

### 2. –ù–µ –∑–∞–±—É–¥—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–∏–ø—ã TypeScript –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
pnpm prisma generate
```

---

### 3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π:**
```bash
pnpm prisma migrate deploy
```

**–û—Ç–ª–∏—á–∏–µ –æ—Ç `migrate dev`:**
- `migrate dev` —Å–æ–∑–¥–∞—ë—Ç –ù–û–í–£–Æ –º–∏–≥—Ä–∞—Ü–∏—é
- `migrate deploy` –ø—Ä–∏–º–µ–Ω—è–µ—Ç –°–£–©–ï–°–¢–í–£–Æ–©–ò–ï –º–∏–≥—Ä–∞—Ü–∏–∏

---

### 4. Seed –¥–∞–Ω–Ω—ã–µ

**–î–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:**

**–í `apps/server/prisma/seed.ts`:**
```typescript
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  await prisma.user.createMany({
    data: [
      { email: 'john@example.com', username: 'john', password: 'hash' },
      { email: 'jane@example.com', username: 'jane', password: 'hash' },
    ],
  });
}

main()
  .catch((e) => console.error(e))
  .finally(() => prisma.$disconnect());
```

**–í `package.json`:**
```json
"prisma": {
  "seed": "ts-node prisma/seed.ts"
}
```

**–ó–∞–ø—É—Å–∫:**
```bash
pnpm prisma db seed
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] `prisma migrate dev` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] PrismaService –≤–Ω–µ–¥—Ä—ë–Ω –≤ NestJS
- [ ] Prisma Studio –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É User
- [ ] –ú–æ–∂–µ—à—å —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Studio
- [ ] –ú–æ–∂–µ—à—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Prisma Client –≤ –∫–æ–¥–µ

---

## üéÆ –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ **[–ó–∞–¥–∞—á–∞ 1.2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é](./1.2-registration.md)**

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
pnpm prisma migrate dev --name describe_changes

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–¥–µ
pnpm prisma migrate deploy

# –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (–≤ dev)
pnpm prisma migrate resolve --rolled-back "migration_name"

# –°–±—Ä–æ—Å–∏—Ç—å –ë–î (–û–°–¢–û–†–û–ñ–ù–û - —É–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ)
pnpm prisma migrate reset

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å schema.prisma
pnpm prisma format

# –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã
pnpm prisma validate

# –°—Ç—É–¥–∏—è (GUI)
pnpm prisma studio

# –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∫ –ë–î (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)
pnpm prisma studio --browser none
```
