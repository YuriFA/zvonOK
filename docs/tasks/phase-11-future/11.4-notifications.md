# –ó–∞–¥–∞—á–∞ 11.4: Toast Notifications

> **–°—Ç–∞—Ç—É—Å:** üìã Planned
>
> **–§–∞–π–ª—ã:**
> - `apps/client/src/components/ui/toast.tsx`
> - `apps/client/src/components/ui/use-toast.ts`
> - `apps/client/src/components/ui/toaster.tsx`

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (—É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ—à–∏–±–∫–∏, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è).

---

## üéØ –¶–µ–ª—å

- Toast –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (success, error, warning, info)
- useToast hook –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (corner)
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–∞–Ω–∏—è

---

## üìù –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1) –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pnpm add sonner
# –∏–ª–∏ —Å–∞–º–æ–ø–∏—Å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

### 2) –° sonner (–ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)

**–í `apps/client/src/main.tsx`:**

```tsx
import { Toaster } from 'sonner';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <AuthProvider>
      <RouterProvider router={router} />
      <Toaster position="top-right" />
    </AuthProvider>
  </StrictMode>,
);
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```tsx
import { toast } from 'sonner';

const handleSubmit = async () => {
  try {
    await apiCall();
    toast.success('Account created!');
  } catch {
    toast.error('Something went wrong');
  }
};
```

### 3) –°–∞–º–æ–ø–∏—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

**`apps/client/src/hooks/use-toast.ts`:**

```typescript
import { useState, useCallback } from 'react';

export type ToastType = 'success' | 'error' | 'warning' | 'info';

export interface Toast {
  id: string;
  type: ToastType;
  message: string;
}

let toastCount = 0;

export function useToast() {
  const [toasts, setToasts] = useState<Toast[]>([]);

  const addToast = useCallback((type: ToastType, message: string) => {
    const id = `toast-${toastCount++}`;
    const toast: Toast = { id, type, message };

    setToasts(prev => [...prev, toast]);

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
      removeToast(id);
    }, 4000);
  }, []);

  const removeToast = useCallback((id: string) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  }, []);

  return {
    toasts,
    success: (message: string) => addToast('success', message),
    error: (message: string) => addToast('error', message),
    warning: (message: string) => addToast('warning', message),
    info: (message: string) => addToast('info', message),
    remove: removeToast,
  };
}
```

**`apps/client/src/components/ui/toaster.tsx`:**

```tsx
import { useToast } from '../../hooks/use-toast';

export function Toaster() {
  const { toasts, remove } = useToast();

  return (
    <div className="fixed top-4 right-4 z-50 space-y-2">
      {toasts.map(toast => (
        <div
          key={toast.id}
          className={`min-w-[300px] p-4 rounded-lg shadow-lg flex items-center justify-between
            ${toast.type === 'success' && 'bg-green-500 text-white'}
            ${toast.type === 'error' && 'bg-red-500 text-white'}
            ${toast.type === 'warning' && 'bg-yellow-500 text-white'}
            ${toast.type === 'info' && 'bg-blue-500 text-white'}
          `}
        >
          <span>{toast.message}</span>
          <button onClick={() => remove(toast.id)}>√ó</button>
        </div>
      ))}
    </div>
  );
}
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] Toast –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] useToast hook —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è
- [ ] 4 —Ç–∏–ø–∞ toast (success, error, warning, info)
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ
- [ ] –ú–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ (enter/exit)

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```tsx
// Success
toast.success('Logged in successfully!');

// Error
toast.error('Invalid credentials');

// Warning
toast.warning('Session expiring soon');

// Info
toast.info('New feature available');

// –° –¥–µ–π—Å—Ç–≤–∏–µ–º
toast.success('Room created!', {
  action: {
    label: 'Copy link',
    onClick: () => navigator.clipboard.writeText(url),
  },
});
```
